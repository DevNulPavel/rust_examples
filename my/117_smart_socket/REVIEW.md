**Задача для наставника и ревьюера**: дать развёрнутые комментарии по коду и предложить правки.

Комментарии все оставил в коде, чтобы не прыгать по файликам туда-сюда.

---

**Задача только для наставника**: ответить на вопросы студента, объяснив предлагаемые решения и выводы.

Вопросы:

1. Как заставить имитатор работать со множеством клиентов одновременно?

Для поддержки сразу нескольких подключений, можно
было бы обернуть в тип розетки в `Arc<Mutex>`, 
а на каждое новое подключение делать отдельный поток.
А если уж совсем делать красиво и поддержку очень большого
количества подключений, то нужно переходить на асинхронный код.

2. Как изменить клиент, чтобы его можно было тестировать без установки сетевого соединения.

Здесь требуется уточнение, так как вроде бы как клиент и нужен для работы по сети. 
Но можно было бы сделать его шаблонным, а вместо стрима внутри в тестах подкладывать
какую-то имитацию, повторяющую запрос-ответ.

3. Что изменится, если сделать клиент асинхронным?

По большому счету, глобально здесь не извенится код как-то, разве что вместо потоков будем
использовать `spawn` из асинхронного рантайма + при работе с сетью будем использовать 
асинхронные сокеты и прочие примитивы.