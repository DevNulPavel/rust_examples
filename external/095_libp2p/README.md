Переработка и изучение кода из статьи: https://habr.com/ru/companies/otus/articles/868512/